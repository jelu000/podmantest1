OBS installer inte podman via snap pga konflikter
OBS G√•r att starta poden fr√•n Ubuntus egen terminal men inte VS code terminalen

sudo apt install podman
sudo apt install podman-compose

sudo apt install python3-pip
pip3 --version
pip install podman-compose --user

podman-compose up -d --build Bygger och sl√•r p√• alla containrar

podman-compose up -d  Sl√•r p√• alla container som deamom
podman-compose down  Sl√•r av alla containrar container  
podman ps Visar kontainrar som k√∂rs
podman ps -a visar alla containrar √§ven de som ej k√∂rs
podman images visar images
podman rmi 706db57fb206  tar bort image

podman pull docker.io/library/php:8.3-apache
podman pull docker.io/library/mariadb:10.6
podman pull docker.io/library/node:20

 npm create react-app att_gora

Antares f√§lt	V√§rde	Baseras p√• docker-compose.yml
User Name	root	Standard f√∂r MariaDB/MySQL.
Password	myrootpassword	V√§rdet fr√•n MYSQL_ROOT_PASSWORD
Database	myapp_db	V√§rdet fr√•n MYSQL_DATABASE (kan l√§mnas tomt f√∂rst)




git
------------
tips: Anv√§nder ‚Äùmaster‚Äù som namn f√∂r den inledande grenen. Detta f√∂rvalda grennamn
tips: kan √§ndras i framtiden. F√∂r att v√§lja vilket namn som ska anv√§ndas p√•
tips: den inledande grenen i alla nya arkiv, och d√∂lja denna varning, k√∂r du:
tips: 
tips:   git config --global init.defaultBranch <namn>
tips: 
tips: Namn som ofta anv√§nds ist√§llet f√∂r ‚Äùmaster‚Äù √§r ‚Äùmain‚Äù, ‚Äùtrunk‚Äù och
tips: ‚Äùdevelopment‚Äù. Den nyskapade grenen kan ges nytt namn med kommandot:
tips: 
tips:   git branch -m <namn>

Fler tips


frontend react
---------------------------
Sammanfattning och F√∂rb√§ttring
√Ñr det fel? Nej, det √§r korrekt och f√∂rmodligen n√∂dv√§ndigt f√∂r din containeriserade utvecklingsmilj√∂.

F√∂rb√§ttring: √Ñven om HOST fungerar utan prefix, t√§nk p√• att alla andra variabler du vill anv√§nda i din kod (t.ex. din PHP API-URL) m√•ste ha prefixet.

Exempel p√• en komplett .env i din frontend/ mapp:

Kodavsnitt

# Anv√§nds av utvecklingsservern (inget prefix beh√∂vs)
HOST=0.0.0.0 
PORT=3000

# Detta M√ÖSTE ha prefixet f√∂r att du ska kunna anv√§nda det i koden:
REACT_APP_API_URL=http://localhost:80/api.php
Sedan kan du anv√§nda den i din React-kod s√• h√§r:

JavaScript

// I AddTodo.js eller App.js
const API_URL = process.env.REACT_APP_API_URL; // http://localhost:80/api.php



problem med snap
--------------------------------
sudo snap remove podman
podman system reset
podman rm -fa
sudo apt install podman containernetworking-plugins
sudo rm -rf ~/snap/code/210
rm -rf ~/snap/code/210



√Öh, det f√∂rklarar allt! Det √§r en klassisk PATH-konflikt relaterad till VS Code och Snap.

Analys av problemet
N√§r du k√∂r kommandot i:

Ubuntus egna terminal (GNOME Terminal/Konsole): 
Den laddar din vanliga anv√§ndarmilj√∂ och din PATH pekar korrekt p√• den stabila APT-versionen av Podman (/usr/bin/podman).

VS Code-terminalen: VS Code (s√§rskilt om det √§r installerat som ett Snap-paket, 
vilket √§r standard p√• Ubuntu) kan tvinga milj√∂n att anv√§nda Snap-specifika bin√§rer eller PATH-inst√§llningar. 
Den ser den gamla, korrupta Snap-konfigurationen, f√∂rs√∂ker anv√§nda den, och f√•r d√• felet: 
Error: database static dir "" does not match our static dir "/home/jens/snap/code/211/.local/share/containers/storage/libpod"
: database configuration mismatch.

L√∂sning: Tvinga VS Code att anv√§nda r√§tt PATH
Det finns tv√• huvudstrategier f√∂r att l√∂sa detta permanent i VS Code:

1. √Ñndra VS Code's standardmilj√∂ (Rekommenderat)
Du kan instruera VS Code att ignorera alla konstiga Snap-milj√∂er och bara anv√§nda den rena, korrekta PATH:en.

√ñppna VS Code.

G√• till Settings (File > Preferences > Settings, eller tryck Ctrl + ,).

S√∂k efter terminal.integrated.inheritEnv

St√§ll in "Terminal > Integrated: Inherit Env" till true. (Detta √§r oftast standard, men se till att den inte √§r false).

S√∂k efter terminal.integrated.env.linux (eller windows om du k√∂r WSL2).

Om du ser n√•gra explicita milj√∂variabler definierade h√§r som pekar p√• Snap-kataloger (/snap/bin, etc.), ta bort dem.

2. Installera VS Code utanf√∂r Snap (B√§sta l√•ngsiktiga l√∂sningen)
Om du har VS Code installerat som ett Snap-paket (snap install code), √§r det den enklaste k√§llan till dina PATH-problem. M√•nga utvecklare p√• Ubuntu v√§ljer att installera VS Code direkt fr√•n Microsofts egna APT-repository f√∂r en stabilare upplevelse.

Steg f√∂r att byta till APT-versionen av VS Code:

Spara dina inst√§llningar! (VS Code synkroniserar detta via ditt Microsoft-konto, men det √§r bra att vara s√§ker).

Ta bort Snap-versionen av VS Code:

Bash

sudo snap remove code
L√§gg till Microsofts GPG-nyckel:

Bash

wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg
sudo install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/
L√§gg till VS Code-repositoryt:

Bash

sudo sh -c 'echo "deb [arch=amd64,arm64,armhf] https://packages.microsoft.com/repos/code stable main" > /etc/apt/sources.list.d/vscode.list'
rm -f packages.microsoft.gpg
Installera APT-versionen av VS Code:

Bash

sudo apt update
sudo apt install code

Efter detta k√∂r VS Code i en mycket renare milj√∂, och dess inbyggda terminal kommer med stor sannolikhet att √§rva den korrekta APT-baserade 
PATH-inst√§llningen fr√•n ditt operativsystem. Detta b√∂r permanent eliminera felet.


----Fick l√§gga till driver f√∂r MySql till apache och php----------------------------------------------------------

Aha! Felet could not find driver √§r ett klassiskt tecken p√• att din PHP-installation (inuti din Podman-container) inte har de 
n√∂dv√§ndiga drivrutinerna f√∂r att prata med din MariaDB/MySQL-databas.

Felet har ingenting att g√∂ra med din PHP-kod eller din SQL-str√§ng, utan handlar om de bibliotek som √§r installerade i din container.

üõë Problemet: PDO MySQL-drivrutinen saknas
Den officiella PHP-bilden (php:8.3-apache) kommer som standard utan PDO MySQL-drivrutinen (pdo_mysql). Den m√•ste installeras och aktiveras.

‚úÖ L√∂sningen: Skapa en anpassad Dockerfile
F√∂r att l√∂sa detta permanent m√•ste vi bygga en egen Apache/PHP-image som inkluderar MariaDB/MySQL-drivrutinen. 
Detta g√∂rs genom att l√§gga till en Dockerfile i din backend-mapp.

Steg 1: Skapa backend/Dockerfile
Skapa en ny fil i din backend-mapp med namnet Dockerfile och l√§gg till f√∂ljande inneh√•ll:

Dockerfile

# backend/Dockerfile

# B√∂rja fr√•n den officiella PHP-bilden du anv√§nder
FROM docker.io/library/php:8.3-apache

# Installera mysqli och pdo_mysql (PDO driver)
RUN docker-php-ext-install mysqli pdo_mysql
Steg 2: Uppdatera podman-compose.yml
Du m√•ste nu instruera podman-compose att bygga din nya, anpassade image ist√§llet f√∂r att bara ladda ner den officiella.

√Ñndra apache-servicen i din podman-compose.yml:

YAML

# √Ñndra detta i din podman-compose.yml
  # 3. PHP-BACKEND: Apache (med PHP)
  apache:
    # image: docker.io/library/php:8.3-apache  # <--- TA BORT ELLER KOMMENTERA BORT DENNA LINJE
    build:
      context: ./backend  # <-- L√ÑGG TILL: S√§ger √•t compose att titta i ./backend efter en Dockerfile
      dockerfile: Dockerfile
    container_name: apache_server
    # ... resten av konfigurationen (ports, volumes, networks) ...
Steg 3: Bygg om och Starta Stacken
Nu m√•ste du bygga den nya bilden och starta om hela milj√∂n:

Bash

# G√• till rotkatalogen f√∂r ditt projekt
podman-compose down

# L√§gg till --build f√∂r att Podman ska bygga den nya bilden
podman-compose up -d --build 
N√§r podman-compose k√∂rs kommer den att se din Dockerfile, installera pdo_mysql-drivrutinen i containern, 
och f√∂rst d√• kommer din PHP-kod att kunna ansluta till databasen. Felet could not find driver ska d√• vara l√∂st!